
ZonesListe = {
    ["LTD-Sud"] = {
        Position = vector3(-707.40, -914.74, 19.21),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Supermarket",
            Sprite = 52,
            Display = 4,
            Scale = 0.8,
            Color = 2
        },
        Action = function()
            OpenMenuLtd() 
        end
    },
    ["LTD-Families"] = {
        Position = vector3(26.41, -1345.95, 29.5),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Supermarket",
            Sprite = 52,
            Display = 4,
            Scale = 0.8,
            Color = 2
        },
        Action = function()
            OpenMenuLtd() 
        end
    },
    ["LTD-Gs"] = {
     Position = vector3(-48.199, -1757.80, 29.42),
     Public = true,
     Job = nil,
     Job2 = nil,
     Blip = {
         Name = "Supermarket",
         Sprite = 52,
         Display = 4,
         Scale = 0.8,
         Color = 2
     },
     Action = function()
         OpenMenuLtd() 
     end
     },
     ["LTD-4"] = {
         Position = vector3(374.78, 327.21, 103.57),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.8,
             Color = 2
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-5"] = {
         Position = vector3(-1223.01, -907.29, 12.32),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.8,
             Color = 2
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-6"] = {
         Position = vector3(1135.59, -982.61, 46.41),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.8,
             Color = 2
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-7"] = {
         Position = vector3(-2967.84, 391.40, 15.04),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.8,
             Color = 2
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-8"] = {
         Position = vector3(-3040.71, 585.99, 7.91),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.8,
             Color = 2
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-9"] = {
         Position = vector3(-3243.33, 1002.04, 12.83),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.8,
             Color = 2
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-10"] = {
         Position = vector3(-1821.41, 793.88, 138.11),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.8,
             Color = 2
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-11"] = {
         Position = vector3(1698.2601318359,4924.3442382812,42.063694000244),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.8,
             Color = 2
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-12"] = {
         Position = vector3(1961.04, 3742.38, 32.34),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.8,
             Color = 2
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-13"] = {
         Position = vector3(-1486.9412841797,-379.38009643555,40.163440704346),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.8,
             Color = 2
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-14"] = {
         Position = vector3(1163.5622558594,-323.66421508789,69.205047607422),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.8,
             Color = 2
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-15"] = {
         Position = vector3(2556.02, 382.9, 108.62),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.8,
             Color = 2
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-16"] = {
         Position = vector3(1166.0716552734,2709.3576660156,38.15771484375),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.8,
             Color = 2
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-17"] = {
         Position = vector3(547.22, 2669.78, 42.16),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.8,
             Color = 2
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-18"] = {
         Position = vector3(2677.64, 3282.02, 55.24),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.8,
             Color = 2
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["LTD-20"] = {
         Position = vector3(1392.6323242188,3605.0432128906,34.980930328369),
         Public = true,
         Job = nil,
         Job2 = nil,
         Blip = {
             Name = "Supermarket",
             Sprite = 52,
             Display = 4,
             Scale = 0.8,
             Color = 2
         },
         Action = function()
             OpenMenuLtd() 
         end
     },
     ["ammunation_1"] = {
        Position = vector3(21.3012, -1107.1514, 29.7970),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.8,
            Color = 1
        },
        Action = function()
            AmmuNation() 
        end
    },
    ["ammunation_2"] = {
        Position = vector3(1696.3, 3756.21, 34.71),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.8,
            Color = 1
        },
        Action = function()
            AmmuNation() 
        end
    },
    ["ammunation_3"] = {
        Position = vector3(16.3, -1109.5, 29.8),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.8,
            Color = 1
        },
        Action = function()
            AmmuNation() 
        end
    },
    ["ammunation_4"] = {
        Position = vector3(-661.38, -939.62, 21.83),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.8,
            Color = 1
        },
        Action = function()
            AmmuNation() 
        end
    },
    ["ammunation_5"] = {
        Position = vector3(814.6, -2152.89, 29.62),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.8,
            Color = 1
        },
        Action = function()
            AmmuNation() 
        end
    },
    ["ammunation_6"] = {
        Position = vector3(247.6, -49.25, 69.94),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.8,
            Color = 1
        },
        Action = function()
            AmmuNation() 
        end
    },
    ["ammunation_7"] = {
        Position = vector3(-1114.05, 2696.19, 18.55),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.8,
            Color = 1
        },
        Action = function()
            AmmuNation() 
        end
    },
    ["ammunation_8"] = {
        Position = vector3(-1309.76, -392.43, 36.7),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.8,
            Color = 1
        },
        Action = function()
            AmmuNation() 
        end
    },
    ["ammunation_9"] = {
        Position = vector3(2566.96, 298.48, 108.74),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Ammunation",
            Sprite = 313,
            Display = 4,
            Scale = 0.8,
            Color = 1
        },
        Action = function()
            AmmuNation() 
        end
    },
    ["location_start"] = {
        Position = vector3(-793.61, -1050.67, 12.26),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Location de Véhicule",
            Sprite = 226,
            Display = 4,
            Scale = 0.8,
            Color = 11
        },
        Action = function()
            openLocation()  
        end
    }, 
    ["CarWash1"] = {
        Position = vector3(20.768850326538,-1391.8957519531,29.3265209198),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Station lavage",
            Sprite = 100,
            Display = 4,
            Scale = 0.8,
            Color = 0
        },
        Action = function()
            openWarcash()
        end
    },
    ["CarWash3"] = {
        Position = vector3(174.83891296387,-1736.6905517578,29.291639328003),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Station lavage",
            Sprite = 100,
            Display = 4,
            Scale = 0.8,
            Color = 0
        },
        Action = function()
            openWarcash()
        end
    },
    ["Magasin d'accéssoires"] = {
        Position = vector3(-804.69226074219,-600.15887451172,30.275325775146),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin d'accéssoire",
            Sprite = 102,
            Display = 4,
            Scale = 0.8,
            Color = 10
        },
        Action = function()
            openAccessShop()
        end
    },
    ["Magasin de Vêtement"] = {
        Position = vector3(76.24, -1397.9, 29.38),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin de Vêtement",
            Sprite = 73,
            Display = 4,
            Scale = 0.8,
            Color = 17
        },
        Action = function()
            OpenVetementShop()
        end
    },
    ["Magasin de Vêtement3"] = {
        Position = vector3(-703.776, -152.258, 37.415),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin de Vêtement",
            Sprite = 73,
            Display = 4,
            Scale = 0.8,
            Color = 17
        },
        Action = function()
            OpenVetementShop()
        end
    },
    ["Magasin de Vêtement4"] = {
        Position = vector3(-167.863, -298.969, 39.733),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin de Vêtement",
            Sprite = 73,
            Display = 4,
            Scale = 0.8,
            Color = 17
        },
        Action = function()
            OpenVetementShop()
        end
    },
    ["Magasin de Vêtement5"] = {
        Position = vector3(425.41, -801.18, 29.49),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin de Vêtement",
            Sprite = 73,
            Display = 4,
            Scale = 0.8,
            Color = 17
        },
        Action = function()
            OpenVetementShop()
        end
    },
    --
    ["Magasin de Vêtement6"] = {
        Position = vector3(-826.55, -1076, 11.33),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin de Vêtement",
            Sprite = 73,
            Display = 4,
            Scale = 0.8,
            Color = 17
        },
        Action = function()
            OpenVetementShop()
        end
    },
    ["Magasin de Vêtement7"] = {
        Position = vector3(-1447.797, -242.461, 49.820),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin de Vêtement",
            Sprite = 73,
            Display = 4,
            Scale = 0.8,
            Color = 17
        },
        Action = function()
            OpenVetementShop()
        end
    },
    ["Magasin de Vêtement8"] = {
        Position = vector3(8.25, 6516.08, 31.88),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin de Vêtement",
            Sprite = 73,
            Display = 4,
            Scale = 0.8,
            Color = 17
        },
        Action = function()
            OpenVetementShop()
        end
    },
    ["Magasin de Vêtement9"] = {
        Position = vector3(123.646, -219.440, 54.557),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin de Vêtement",
            Sprite = 73,
            Display = 4,
            Scale = 0.8,
            Color = 17
        },
        Action = function()
            OpenVetementShop()
        end
    },
    ["Magasin de Vêtement10"] = {
        Position = vector3(1693.3, 4827.77, 42.07),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin de Vêtement",
            Sprite = 73,
            Display = 4,
            Scale = 0.8,
            Color = 17
        },
        Action = function()
            OpenVetementShop()
        end
    },
    ["Magasin de Vêtement11"] = {
        Position = vector3(618.093, 2759.629, 42.088),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin de Vêtement",
            Sprite = 73,
            Display = 4,
            Scale = 0.8,
            Color = 17
        },
        Action = function()
            OpenVetementShop()
        end
    },
    ["Magasin de Vêtement12"] = {
        Position = vector3(1191.74, 2710.27, 38.22),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin de Vêtement",
            Sprite = 73,
            Display = 4,
            Scale = 0.8,
            Color = 17
        },
        Action = function()
            OpenVetementShop()
        end
    },
    ["Magasin de Vêtement13"] = {
        Position = vector3(-1193.429, -772.262, 17.324),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin de Vêtement",
            Sprite = 73,
            Display = 4,
            Scale = 0.8,
            Color = 17
        },
        Action = function()
            OpenVetementShop()
        end
    },
    ["Magasin de Vêtement14"] = {
        Position = vector3(-3172.496, 1048.133, 20.863),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin de Vêtement",
            Sprite = 73,
            Display = 4,
            Scale = 0.8,
            Color = 17
        },
        Action = function()
            OpenVetementShop()
        end
    },
    ["Magasin de Vêtement15"] = {
        Position = vector3(-2167.51, -532.73, 13.28),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin de Vêtement Triades",
            Sprite = 0,
            Display = 0,
            Scale = 0,
            Color = 0
        },
        Action = function()
            OpenVetementShop()
        end
    },
    ["Magasin de Vêtement16"] = {
        Position = vector3(-1105.13, 2706.76, 19.11),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin de Vêtement",
            Sprite = 73,
            Display = 4,
            Scale = 0.8,
            Color = 17
        },
        Action = function()
            OpenVetementShop()
        end
    },
    ["Magasin de Vêtement17"] = {
        Position = vector3(4499.69, -4522.9, 4.41),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Magasin de Vêtement",
            Sprite = 73,
            Display = 4,
            Scale = 0.8,
            Color = 17
        },
        Action = function()
            OpenVetementShop()
        end
    },
    ["Sallon_maquillage"] = {
        Position = vector3(216.77,-1545.06,29.28),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Salon de maquillage",
            Sprite = 621,
            Display = 4,
            Scale = 0.8,
            Color = 8
        },
        Action = function()
            openmakeup()
        end
    },
    ["coiffeur1"] = {
        Position = vector3(-814.3, -183.8, 37.6),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Salon de Coiffure",
            Sprite = 71,
            Display = 4,
            Scale = 0.8,
            Color = 31
        },
        Action = function()
            OpenMenuBarberShop()
        end
    },
    ["coiffeur2"] = {
        Position = vector3(136.8, -1708.4, 29.3),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Salon de Coiffure",
            Sprite = 71,
            Display = 4,
            Scale = 0.8,
            Color = 31
        },
        Action = function()
            OpenMenuBarberShop()
        end
    },
    ["coiffeur3"] = {
        Position = vector3(-1282.6, -1116.8, 7.0),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Salon de Coiffure",
            Sprite = 71,
            Display = 4,
            Scale = 0.8,
            Color = 31
        },
        Action = function()
            OpenMenuBarberShop()
        end
    },
    ["coiffeur4"] = {
        Position = vector3(1931.5, 3729.7, 32.8),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Salon de Coiffure",
            Sprite = 71,
            Display = 4,
            Scale = 0.8,
            Color = 31
        },
        Action = function()
            OpenMenuBarberShop()
        end
    },
    ["coiffeur5"] = {
        Position = vector3(1212.8, -472.9, 66.2),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Salon de Coiffure",
            Sprite = 71,
            Display = 4,
            Scale = 0.8,
            Color = 31
        },
        Action = function()
            OpenMenuBarberShop()
        end
    },
    ["coiffeur6"] = {
        Position = vector3(-32.9, -152.3, 57.1),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Salon de Coiffure",
            Sprite = 71,
            Display = 4,
            Scale = 0.8,
            Color = 31
        },
        Action = function()
            OpenMenuBarberShop()
        end
    },
    ["coiffeur7"] = {
        Position = vector3(-278.1, 6228.5, 31.7),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Salon de Coiffure",
            Sprite = 71,
            Display = 4,
            Scale = 0.8,
            Color = 31
        },
        Action = function()
            OpenMenuBarberShop()
        end
    },
    ["coiffeur8"] = {
        Position = vector3(4501.01, -4517.82, 4.41),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Salon de Coiffure",
            Sprite = 71,
            Display = 4,
            Scale = 0.8,
            Color = 31
        },
        Action = function()
            OpenMenuBarberShop()
        end
    },
    ["Serrurier"] = {
        Position = vector3(170.28, -1799.53, 29.34),
        Public = true,
        Job = nil,
        Job2 = nil,
        Blip = {
            Name = "Serrurier",
            Sprite = 811,
            Display = 811,
            Scale = 0.8,
            Color = 46
        },
        Action = function()
            OpenSerrurierMenu()
        end
    }
}

function AddMarker(id, data)
    if not ZonesListe[id] then 
        ZonesListe[id] = data
    end
end

function RemoveMarker(id)
    ZonesListe[id] = nil
end

Citizen.CreateThread(function()
    for _,marker in pairs(ZonesListe) do
        if marker.Blip then
            local blip = AddBlipForCoord(marker.Position)

            SetBlipSprite(blip, marker.Blip.Sprite)
            SetBlipScale(blip, marker.Blip.Scale)
            SetBlipColour(blip, marker.Blip.Color)
            SetBlipDisplay(blip, marker.Blip.Display)
            SetBlipAsShortRange(blip, true)
    
            BeginTextCommandSetBlipName('STRING')
            AddTextComponentSubstringPlayerName(marker.Blip.Name)
            EndTextCommandSetBlipName(blip)
        end
	end

    while true do
        local isProche = false
        for k,v in pairs(ZonesListe) do
            if v.Public or ESX.PlayerData.job ~= nil and ESX.PlayerData.job.name == v.Job or ESX.PlayerData.job2.name == v.Job2 then
                local dist = Vdist2(GetEntityCoords(PlayerPedId(), false), v.Position)

                if dist < 10 then
                    isProche = true
                    DrawMarker(6, v.Position.x, v.Position.y, v.Position.z-0.98, 0.0, 0.0, 0.0, -90.0, 0.0, 0.0, 0.55, 0.55, 0.55, 255, 0, 102, 255, false, false, 2, false, false, false, false)
                end
                if dist < 3 then
                    Draw3DText(v.Position.x, v.Position.y, v.Position.z, "Appuyez sur ~q~E~s~ pour intéragir")
                    if IsControlJustPressed(1,51) then
                        v.Action(v.Position)
                    end
                end
            end
        end
        
		if isProche then
			Wait(0)
		else
			Wait(750)
		end
	end
end)